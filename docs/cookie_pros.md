

## تفاوت اصلی بین کوکی و هدر Authorization

در روش هدر Authorization، توکن JWT معمولاً در localStorage یا sessionStorage ذخیره می‌شود.

در روش کوکی، توکن به‌صورت خودکار توسط مرورگر ذخیره و فقط در درخواست‌های معتبر ارسال می‌شود.

## مزیت‌های کوکی

1- محافظت در برابر حملات XSS (Cross-Site Scripting) با استفاده از HttpOnly: این نوع حملات به این معنی است که مهاجم بتواند کد جاوااسکریپت مخرب را در سایت شما اجرا کند و داده‌ها را بخواند. وقتی توکن در HttpOnly Cookie ذخیره شود، کد جاوا اسکریپت اصلاً به آن دسترسی ندارد , فقط مرورگر هنگام ارسال درخواست‌های مجاز آن را ضمیمه می‌کند.

2- کاهش ریسک حملات CSRF (Cross-Site Request Forgery) با استفاده از samesite: این حملات به این معنی است که مهاجم کاربر را فریب دهد تا از سایت خودش درخواستی به سایت شما با کوکی معتبر بفرستد. با ست کردن این ویژگی مرورگر فقط در شرایط خاص (درخواست‌های originating از همان دامنه) کوکی را ارسال می‌کند بنابراین درخواست‌های جعلی از سایت‌های دیگر توکن شما را همراه ندارند.

3- با ست کردن ویژگی secure، درخواست ها فقط می توانند در قالب https ارسال شوند.

4- تفکیک بهتر امنیت در کلاینت و سرور: هنگام استفاده از کوکی، سرور تعیین می‌کند چه زمانی و کجا کوکی‌ها ارسال شوند و کنترل کامل روی ویژگی‌های امنیتی دارد به عبارت دیگر نیازی نیست فرانت‌اند با توکن‌ها کار کند که این امر باعث کاهش سطح حمله می شود.